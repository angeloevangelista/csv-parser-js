{"version":3,"sources":["webpack://csv-parser-js/./src/csv-parser/functions/handleInputChange.ts","webpack://csv-parser-js/./src/csv-parser/functions/loadContent.ts","webpack://csv-parser-js/./src/csv-parser/functions/toJson.ts","webpack://csv-parser-js/./src/csv-parser/index.ts","webpack://csv-parser-js/./src/index.ts","webpack://csv-parser-js/webpack/bootstrap","webpack://csv-parser-js/webpack/startup"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","handleInputChange","loadContent_1","toJson_1","inputElement","separator","files","length","name","csvFile","csvContent","default","filename","content","undefined","loadContent","reader","FileReader","onload","toString","readAsBinaryString","error","toJson","lines","split","header","map","column","trim","replace","shift","filter","line","collection","forEach","lineValues","serializedLine","headerColumn","headerColumnIndex","rawValue","typedValue","isNaN","Number","String","assign","push","__createBinding","create","o","m","k","k2","enumerable","get","__setModuleDefault","v","__importStar","prototype","hasOwnProperty","call","CSV","HandleInputChange","LoadContent","ToJson","window","__exportStar","p","__webpack_module_cache__","__webpack_require__","moduleId","module","__webpack_modules__"],"mappings":"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","file":"csv-parser.js","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.handleInputChange = void 0;\nconst loadContent_1 = __importDefault(require(\"./loadContent\"));\nconst toJson_1 = __importDefault(require(\"./toJson\"));\nfunction handleInputChange({ inputElement, separator = ',', }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!inputElement) {\n            return Promise.reject('Element not found');\n        }\n        if (!inputElement.files || inputElement.files.length === 0) {\n            return Promise.reject('No file selected.');\n        }\n        const { name } = inputElement.files[0];\n        const csvFile = inputElement.files[0];\n        const csvContent = yield loadContent_1.default({ csvFile });\n        if (!csvContent) {\n            return Promise.resolve(undefined);\n        }\n        const serializedCSV = toJson_1.default({ csvContent, separator });\n        return {\n            filename: name,\n            content: serializedCSV,\n        };\n    });\n}\nexports.handleInputChange = handleInputChange;\nexports.default = handleInputChange;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadContent = void 0;\nfunction loadContent({ csvFile, }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            try {\n                const reader = new FileReader();\n                let csvContent = null;\n                reader.onload = () => {\n                    csvContent = reader.result;\n                    resolve(csvContent === null || csvContent === void 0 ? void 0 : csvContent.toString());\n                };\n                reader.readAsBinaryString(csvFile);\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    });\n}\nexports.loadContent = loadContent;\nexports.default = loadContent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toJson = void 0;\nfunction toJson({ csvContent, separator = ',', }) {\n    let lines = csvContent.split('\\n');\n    let header = lines[0]\n        .split(separator)\n        .map((column) => column.trim().replace(/\"/g, ''));\n    lines.shift();\n    lines = lines.filter((line) => line.replace(/,/g, '').trim());\n    let collection = [];\n    lines.forEach((line) => {\n        const lineValues = line.split(separator);\n        let serializedLine = {};\n        header.forEach((headerColumn, headerColumnIndex) => {\n            const rawValue = lineValues[headerColumnIndex];\n            let typedValue;\n            if (!rawValue) {\n                typedValue = null;\n            }\n            else {\n                typedValue = isNaN(Number(rawValue))\n                    ? String(rawValue)\n                    : Number(rawValue);\n            }\n            serializedLine = Object.assign(Object.assign({}, serializedLine), { [headerColumn]: typedValue });\n        });\n        collection.push(serializedLine);\n    });\n    return collection;\n}\nexports.toJson = toJson;\nexports.default = toJson;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CSV = void 0;\nconst HandleInputChange = __importStar(require(\"./functions/handleInputChange\"));\nconst LoadContent = __importStar(require(\"./functions/loadContent\"));\nconst ToJson = __importStar(require(\"./functions/toJson\"));\nconst CSV = {\n    handleInputChange: HandleInputChange.default,\n    loadContent: LoadContent.default,\n    toJson: ToJson.default,\n};\nexports.CSV = CSV;\nwindow.CSV = CSV;\nexports.default = CSV;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./csv-parser\"), exports);\n// import CSV from './csv';\n// window.onload = () => {\n//   let csvInput: HTMLInputElement | null;\n//   csvInput = document.getElementById('csv-input') as HTMLInputElement;\n//   csvInput.addEventListener('change', async (e) => {\n//     console.log(e.target);\n//     const serializedCsv = await window.CSV.handleSelectFile(csvInput);\n//     console.log(serializedCsv);\n//   });\n// };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(607);\n"],"sourceRoot":""}