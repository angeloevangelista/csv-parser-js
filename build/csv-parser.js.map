{"version":3,"sources":["webpack://csv-parser-js/./src/csv-parser/handleInputChange.ts","webpack://csv-parser-js/./src/csv-parser/index.ts","webpack://csv-parser-js/./src/csv-parser/loadContent.ts","webpack://csv-parser-js/./src/csv-parser/toJson.ts","webpack://csv-parser-js/./src/index.ts","webpack://csv-parser-js/webpack/bootstrap","webpack://csv-parser-js/webpack/startup"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","handleSelectFile","loadContent_1","toJson_1","inputElement","console","error","files","length","warn","name","csvFile","csvContent","default","filename","content","__createBinding","create","o","m","k","k2","undefined","enumerable","get","__setModuleDefault","v","__importStar","prototype","hasOwnProperty","call","CSV","HandleInputChange","LoadContent","ToJson","loadContent","toJson","window","reader","FileReader","onload","toString","readAsBinaryString","lines","split","header","map","column","trim","replace","shift","filter","line","collection","forEach","lineValues","serializedLine","headerColumn","headerColumnIndex","rawValue","typedValue","isNaN","Number","String","assign","push","__webpack_module_cache__","__webpack_require__","moduleId","module","__webpack_modules__"],"mappings":"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","file":"csv-parser.js","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.handleSelectFile = void 0;\nconst loadContent_1 = __importDefault(require(\"./loadContent\"));\nconst toJson_1 = __importDefault(require(\"./toJson\"));\nfunction handleSelectFile({ inputElement, }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!inputElement) {\n            console.error('Element not found.');\n            return;\n        }\n        if (!inputElement.files || inputElement.files.length === 0) {\n            console.warn('No files selected.');\n            return;\n        }\n        const { name } = inputElement.files[0];\n        const csvFile = inputElement.files[0];\n        const csvContent = yield loadContent_1.default({ csvFile });\n        const serializedCSV = toJson_1.default({ csvContent });\n        return {\n            filename: name,\n            content: serializedCSV,\n        };\n    });\n}\nexports.handleSelectFile = handleSelectFile;\nexports.default = handleSelectFile;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CSV = void 0;\nconst HandleInputChange = __importStar(require(\"./handleInputChange\"));\nconst LoadContent = __importStar(require(\"./loadContent\"));\nconst ToJson = __importStar(require(\"./toJson\"));\nconst CSV = {\n    handleSelectFile: HandleInputChange.default,\n    loadContent: LoadContent.default,\n    toJson: ToJson.default,\n};\nexports.CSV = CSV;\nwindow.CSV = CSV;\nexports.default = CSV;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadContent = void 0;\nfunction loadContent({ csvFile, }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            try {\n                const reader = new FileReader();\n                let csvContent = '';\n                reader.onload = () => {\n                    csvContent = reader.result;\n                    resolve(csvContent === null || csvContent === void 0 ? void 0 : csvContent.toString());\n                };\n                reader.readAsBinaryString(csvFile);\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    });\n}\nexports.loadContent = loadContent;\nexports.default = loadContent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toJson = void 0;\nfunction toJson({ csvContent }) {\n    let lines = csvContent.split('\\n');\n    let header = lines[0]\n        .split(',')\n        .map((column) => column.trim().replace(/\"/g, ''));\n    lines.shift();\n    lines = lines.filter((line) => line.replace(/,/g, '').trim());\n    let collection = [];\n    lines.forEach((line) => {\n        const lineValues = line.split(',');\n        let serializedLine = {};\n        header.forEach((headerColumn, headerColumnIndex) => {\n            const rawValue = lineValues[headerColumnIndex];\n            let typedValue;\n            if (!rawValue) {\n                typedValue = null;\n            }\n            else {\n                typedValue = isNaN(Number(rawValue))\n                    ? String(rawValue)\n                    : Number(rawValue);\n            }\n            serializedLine = Object.assign(Object.assign({}, serializedLine), { [headerColumn]: typedValue });\n        });\n        collection.push(serializedLine);\n    });\n    return collection;\n}\nexports.toJson = toJson;\nexports.default = toJson;\n","\"use strict\";\nmodule.exports = require('./csv-parser');\n// import CSV from './csv';\n// window.onload = () => {\n//   let csvInput: HTMLInputElement | null;\n//   csvInput = document.getElementById('csv-input') as HTMLInputElement;\n//   csvInput.addEventListener('change', async (e) => {\n//     console.log(e.target);\n//     const serializedCsv = await window.CSV.handleSelectFile(csvInput);\n//     console.log(serializedCsv);\n//   });\n// };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module\n__webpack_require__(607);\n// This entry module used 'module' so it can't be inlined\n"],"sourceRoot":""}