(()=>{"use strict";var e={216:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleInputChange=void 0;const i=o(n(871)),a=o(n(736));function u({inputElement:e,separator:t=","}){return r(this,void 0,void 0,(function*(){if(!e)return Promise.reject("Element not found");if(!e.files||0===e.files.length)return Promise.reject("No file selected.");const{name:n}=e.files[0],r=e.files[0],o=yield i.default({csvFile:r});return o?{filename:n,content:a.default({csvContent:o,separator:t})}:Promise.resolve(void 0)}))}t.handleInputChange=u,t.default=u},871:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))};function r({csvFile:e}){return n(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{try{const n=new FileReader;let r=null;n.onload=()=>{r=n.result,t(null==r?void 0:r.toString())},n.readAsBinaryString(e)}catch(e){n(e)}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.loadContent=void 0,t.loadContent=r,t.default=r},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toJson=void 0;const o=r(n(3));function i({csvContent:e,separator:t=","}){const n=new RegExp(t,"g");let r=e.split("\n");const i=o.default(r[0].split(t).map((e=>e.trim()))).useJoker({delimiterChar:'"'}).removeJoker({replacementContent:","});r.shift(),r=r.filter((e=>e.replace(n,"").trim()));let a=[];return r.forEach((e=>{let n=e.split(t);i.length<n.length&&(n=o.default(n).useJoker({delimiterChar:'"'}).removeJoker({replacementContent:","}));let r={};i.forEach(((e,t)=>{const o=n[t];let i;i=o?isNaN(Number(o))?String(o):Number(o):null,r=Object.assign(Object.assign({},r),{[e]:i})})),a.push(r)})),a}t.toJson=i,t.default=i},449:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CSV=void 0;const a=i(n(216)),u=i(n(871)),l=i(n(736)),c={handleInputChange:a.default,loadContent:u.default,toJson:l.default};t.CSV=c,window.CSV=c,t.default=c},3:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=e=>{const t="_JOKER_STRING_";return{useJoker:({delimiterChar:r='"'})=>{const o=[];e.forEach(((e,t)=>{e.startsWith(r)&&o.push({originalArrayBeginIndex:t,originalArrayEndIndex:t}),e.endsWith(r)&&(o[o.length-1].originalArrayEndIndex=t)}));const i=[];o.forEach(((n,r)=>{const o=e.slice(n.originalArrayBeginIndex,n.originalArrayEndIndex+1).join(t).replace(/"/g,"");i.push({orderOfOccurrence:r,value:o})}));const a=[];let u=0;for(let t=0;t<e.length;t++){const n=o.find((e=>e.originalArrayBeginIndex===t));if(n){const e=i.find((e=>e.orderOfOccurrence===u));e&&a.push(e.value),t+=n.originalArrayEndIndex-n.originalArrayBeginIndex,u++}else a.push(e[t])}return{jokerValues:a,removeJoker:n(a).removeJoker}},removeJoker:({replacementContent:n})=>{const r=new RegExp(t,"g");return e.map((e=>e.replace(r,n)))}}};t.default=n},607:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(449),t)}},t={};!function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(607)})();
//# sourceMappingURL=csv-parser.js.map